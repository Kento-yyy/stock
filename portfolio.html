<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>ポートフォリオ</title>
  <style>
    table { border-collapse: collapse; }
    th, td { border:1px solid #ccc; padding:4px 8px; }
  </style>
</head>
<body>
  <h2>ポートフォリオ</h2>
  <table id="portfolio"></table>
  <script>
    fetch('/api/portfolio')
      .then(response => response.json())
      .then(rows => {
        const table = document.getElementById('portfolio');
        const thead = document.createElement('thead');
        const headerRow = document.createElement('tr');
        ['symbol', 'shares', 'currency'].forEach(h => {
          const th = document.createElement('th');
          th.textContent = h;
          headerRow.appendChild(th);
        });
        thead.appendChild(headerRow);
        table.appendChild(thead);
        const tbody = document.createElement('tbody');
        rows.forEach(r => {
          const tr = document.createElement('tr');
          ['symbol', 'shares', 'currency'].forEach(k => {
            const td = document.createElement('td');
            td.textContent = r[k];
            tr.appendChild(td);
          });
          tbody.appendChild(tr);
        });
        table.appendChild(tbody);
      });
  </script>
</body>
</html>
